# 🚀 MPTCP-SDN增强版实验指南

## 📋 概述

本实验指南详细描述了增强版MPTCP感知SDN控制器的实验过程和功能特性。该系统支持多种网络拓扑、实时LSTM微调、网络变化模拟以及性能对比分析。

## 🌟 主要增强功能

### 1. 多种网络拓扑支持
- **简单拓扑**: 6个节点 (4主机 + 2交换机)
- **中等拓扑**: 12个节点 (8主机 + 4交换机)
- **复杂拓扑**: 32个节点 (24主机 + 8交换机)
- **Mininet集成**: 支持真实网络仿真

### 2. 实时LSTM微调
- 在线学习机制
- 网络变化自适应
- 性能实时优化

### 3. 网络变化模拟
- 拥塞模拟
- 链路故障模拟
- 网络改善模拟

### 4. 性能分析与可视化
- 实时性能图表
- 对比分析报告
- 实验结果保存

## 🧪 实验流程

### 阶段1: 系统初始化

1. **启动程序**
   ```bash
   python3 interactive_demo.py
   ```

2. **选择网络拓扑**
   - 根据实验需求选择合适的拓扑规模
   - 选择运行模式（模拟/Mininet）

### 阶段2: 基础功能验证

#### 2.1 网络拓扑查看
- 验证网络节点配置
- 检查路径连接状态
- 确认网络参数设置

#### 2.2 MPTCP连接创建
- 创建多路径连接
- 验证子流分配
- 测试负载均衡

### 阶段3: LSTM模型训练与预测

#### 3.1 初始训练
```python
# 训练参数
epochs = 15-20
learning_rate = 0.001
batch_size = 自适应
```

#### 3.2 性能预测验证
- 路径性能评估
- 拥塞预测准确性
- 模型收敛分析

### 阶段4: 网络变化适应性测试

#### 4.1 网络变化模拟
1. **拥塞模拟**
   - 增加网络负载
   - 测试拥塞检测
   - 验证路径切换

2. **链路故障模拟**
   - 模拟链路中断
   - 测试故障恢复
   - 验证冗余路径

3. **网络改善模拟**
   - 提升网络性能
   - 测试资源利用
   - 验证优化效果

#### 4.2 实时LSTM微调
```python
# 微调参数
online_learning_rate = 0.0001
adaptation_threshold = 10
update_frequency = 实时
```

### 阶段5: 完整实验流程

#### 5.1 综合测试
1. 初始LSTM训练
2. 多连接创建
3. 网络变化模拟
4. 实时监控适应
5. 结果生成分析

#### 5.2 性能评估
- 预测准确性分析
- 适应性能评估
- 系统稳定性测试

## 📊 实验结果分析

### 1. 性能指标

#### 网络性能指标
- **带宽利用率**: 实时监控各路径带宽使用情况
- **延迟特性**: 分析不同拓扑下的延迟分布
- **丢包率**: 评估网络可靠性
- **拥塞程度**: 量化网络拥塞状态

#### 模型性能指标
- **训练损失**: LSTM模型收敛情况
- **预测准确性**: 预测值与实际值对比
- **适应速度**: 网络变化时的响应时间
- **稳定性**: 长期运行的性能稳定性

### 2. 对比分析

#### 拓扑规模对比
| 拓扑类型 | 节点数量 | 路径数量 | 复杂度 | 适用场景 |
|---------|----------|----------|--------|----------|
| 简单 | 6 | 2 | 低 | 概念验证 |
| 中等 | 12 | 6 | 中 | 小型网络 |
| 复杂 | 32 | 16 | 高 | 企业网络 |

#### 模式对比
| 运行模式 | 真实性 | 性能开销 | 部署难度 | 测试精度 |
|---------|--------|----------|----------|----------|
| 模拟模式 | 中等 | 低 | 简单 | 中等 |
| Mininet模式 | 高 | 中等 | 中等 | 高 |

### 3. 实验结果输出

#### 图表文件
- `performance_analysis_{topology}_{timestamp}.png`: 性能分析图表
  - 带宽变化趋势
  - 延迟变化趋势
  - LSTM训练损失
  - 预测vs实际性能对比

#### 数据文件
- `experiment_results_{name}_{topology}_{timestamp}.json`: 实验数据
  - 实验配置信息
  - 网络拓扑数据
  - 训练历史记录
  - 性能指标序列
  - 实验统计摘要

## 🔧 实验配置

### 环境要求
```bash
# Python包
torch>=1.9.0
matplotlib>=3.3.0
numpy>=1.19.0

# 可选：Mininet支持
mininet>=2.3.0
```

### 系统参数
```python
# LSTM模型参数
input_size = 8  # 扩展特征（包含历史趋势）
hidden_size = 64
num_layers = 2
attention_heads = 8

# 网络模拟参数
bandwidth_range = [10, 150]  # Mbps
latency_range = [5, 100]     # ms
loss_range = [0, 0.1]        # 比例
congestion_range = [0, 1]    # 比例

# 实时微调参数
adaptation_threshold = 10
online_learning_rate = 0.0001
update_iterations = 3
```

## 🎯 实验目标与验证

### 主要目标
1. **验证多拓扑适应性**: 不同规模网络下的系统性能
2. **测试实时微调效果**: 网络变化时的模型适应能力
3. **评估预测准确性**: LSTM模型的预测精度
4. **分析系统稳定性**: 长期运行的性能稳定性

### 验证方法
1. **功能验证**: 所有功能模块正常运行
2. **性能验证**: 关键指标达到预期范围
3. **稳定性验证**: 长时间运行无异常
4. **对比验证**: 不同配置下的性能对比

## 📝 实验报告模板

### 1. 实验环境
- 硬件配置
- 软件版本
- 网络配置

### 2. 实验配置
- 拓扑选择
- 参数设置
- 运行模式

### 3. 实验过程
- 执行步骤
- 关键操作
- 异常处理

### 4. 实验结果
- 性能数据
- 图表分析
- 关键发现

### 5. 结论与建议
- 实验总结
- 改进建议
- 后续研究方向

## 🚀 快速开始

### 基础实验（推荐新用户）
1. 选择"简单拓扑"
2. 运行"完整实验流程"（选项12）
3. 查看生成的图表和结果文件

### 高级实验（经验用户）
1. 选择"复杂拓扑"并启用Mininet
2. 逐步执行各个功能模块
3. 进行自定义网络变化测试
4. 分析详细性能数据

## 🔍 故障排除

### 常见问题
1. **Mininet不可用**: 自动切换到模拟模式
2. **内存不足**: 减小拓扑规模或训练轮数
3. **图表生成失败**: 检查matplotlib依赖
4. **文件保存失败**: 检查目录写入权限

### 调试建议
- 查看日志文件：`mptcp_sdn_demo.log`
- 检查系统资源使用情况
- 验证Python依赖包版本
- 确认网络配置正确性

---

## 📄 许可与支持

本实验系统基于开源许可，支持学术研究和教育用途。如有问题或建议，请参考系统日志或联系开发团队。 